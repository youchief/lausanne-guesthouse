// Generated by CoffeeScript 1.6.3
/*!
  # Responsive Slider widget script
  # by w3widgets
  #
  # Author: Lukasz Kokoszkiewicz
  #
  # Copyright Â© Lukasz Kokoszkiewicz 2013 All Rights Reserved
*/(function(e){var t,n,r,i,s,o,u,a,f,l;t=function(e,t){this.$element=e;this.$slides=this.$element.find(".slides ul li");this.$slides.length<1&&(this.$slides=this.$element.find('[data-group="slides"] ul li'));this.$prevNext=this.$element.find("[data-jump]");this.$pages=this.$element.find("[data-jump-to]");this.$rel=this.$element.find('[data-group="slides"]');this.slideChangeInProgress=!1;this.interval=!1;this.options=t;this.current=t.current;this.set(2,!0);return null};t.prototype={getGlobalWidth:function(){return this.$element.width()},updateControls:function(){this.$pages.removeClass("active");return this.$pages.filter("[data-jump-to="+(this.current-1)+"]").addClass("active")},runAnimations:function(){var t,n;n=this;t=e(this.$slides[this.current-1]).find("[data-animate]");return t.each(function(){var t;t=e(this);return n.options.animations[t.data("animate")](t,t.data("delay"),t.data("length"))})},hideAnimatedCaptions:function(t){return e(this.$slides[t-1]).find("[data-animate]").css({opacity:0})},calculateScroll:function(e){var t;t=this.getGlobalWidth();return(e-1)*t},resize:function(){return this.$rel.scrollLeft(this.calculateScroll(this.current))},jump:function(e,t,n){var r,i,s,o;t==null&&(t=this.options.transitionTime);n==null&&(n=!1);s=this;e===s.current&&(n=!0);if(this.$slides.length>=e&&!this.slideChangeInProgress){i=this.getGlobalWidth();n||this.hideAnimatedCaptions(e);o=void 0;if(this.options.parallax){this.currentBgPosition=parseInt(s.$rel.css("background-position"));this.moveStartScroll=parseInt(this.$rel.scrollLeft(),10);o=function(){var e;e=Math.round(s.currentBgPosition-(s.moveStartScroll-this.scrollLeft)*s.options.parallaxDistance*s.options.parallaxDirection)+"px 0";return s.$rel.css("background-position",e)}}r={duration:t,step:o,done:function(){if(e===1){s.hideAnimatedCaptions(s.$slides.length-1);s.set(s.$slides.length-1)}else if(e===s.$slides.length){s.hideAnimatedCaptions(2);s.set(2)}else s.current=e;s.updateControls();n||s.runAnimations();s.options.onSlideChange.call(this);return null},always:function(){s.slideChangeInProgress=!1;return null}};this.slideChangeInProgress=!0;this.$rel.animate({scrollLeft:this.calculateScroll(e)},r)}return null},set:function(e,t){var n;t==null&&(t=!1);n=this.getGlobalWidth();this.$rel.scrollLeft(this.calculateScroll(e));this.current=e;this.updateControls();return null},movestart:function(e){this.options.parallax&&(this.currentBgPosition=parseInt(this.$rel.css("background-position")));this.hideAnimatedCaptions(this.current-1);this.hideAnimatedCaptions(this.current+1);this.moveStartScroll=parseInt(this.$rel.scrollLeft(),10);this.$rel.stop();this.$rel.addClass("drag");return this.timeStart=new Date},move:function(e){var t;if(this.options.parallax){t=Math.round(this.currentBgPosition-e.distX*this.options.parallaxDistance*this.options.parallaxDirection)+"px 0";this.$rel.css("background-position",t)}return this.$rel.scrollLeft(this.moveStartScroll-e.distX)},moveend:function(e){var t,n,r,i,s;t=Math.abs(e.distX);i=(new Date).getTime()-this.timeStart.getTime();r=this.getGlobalWidth();n=t/r;s=i/n*(1-n);s=s<1e3?s:1e3;this.$rel.removeClass("drag");return t<r/this.options.moveDistanceToSlideChange?this.jump(this.current,s,!0):e.distX<0?this.next(s):this.prev(s)},prev:function(e,t){e==null&&(e=this.options.transitionTime);t==null&&(t=!1);this.jump(this.current-1,e,t);return this.options.onSlidePrev.call(this)},next:function(e,t){e==null&&(e=this.options.transitionTime);t==null&&(t=!1);this.jump(this.current+1,e,t);return this.options.onSlideNext.call(this)}};e.fn.responsiveSlider=function(n){var r,i,s,o,u,a;u=this;s=e.extend({},e.fn.responsiveSlider.defaults,typeof n=="object"&&n);s.animations=e.fn.responsiveSlider.animations;o={next:"next",prev:"prev"};r=function(e,t){clearInterval(t);e.off("mouseover");e.off("mouseleave");return null};i=function(n){var i,o,u,a;s=e.metadata?e.extend({},s,n.metadata()):s;a=n.find("ul li");if(a.length>1){i=e(a[0]);o=e(a[a.length-1]);i.before(o.clone());o.after(i.clone())}n.data("slider",u=new t(n,s));if(s.autoplay){u.interval=setInterval(function(){return u.next()},s.interval);n.on("mouseover",function(){return clearInterval(u.interval)});n.on("mouseleave",function(){clearInterval(u.interval);return u.interval=setInterval(function(){return u.next()},s.interval)})}e(window).on("resize",function(){return u.resize()});n.find("[data-jump]").on("click",function(){u[e(this).data("jump")]();return!1});n.find("[data-jump-to]").on("click",function(){u.jump(e(this).data("jump-to")+1);s.onSlidePageChange.call(this);return!1});if(s.touch)return n.find('[data-group="slide"]').on("movestart",function(e){r(n,u.interval);return u.movestart(e)}).on("move",function(e){return u.move(e)}).on("moveend",function(e){return u.moveend(e)})};a=function(){return u.each(function(){var t,r;t=e(this);r=t.data("slider");r?typeof n=="string"?r[o[n]]():typeof n=="number"&&r.jump(Math.abs(n)+1):i(t,s);return t})};if(e.fn.responsiveSlider.run)return a();e(window).on("load",a);return e.fn.responsiveSlider.run=!0};e.fn.responsiveSlider.animations={slideAppearRightToLeft:function(e,t,n){var r,i;t==null&&(t=0);n==null&&(n=300);i={"margin-left":100,"margin-right":-100};e.css(i);r=function(){i={"margin-left":0,"margin-right":0,opacity:1};return e.animate(i,n)};return t>0?setTimeout(r,t):r()},slideAppearLeftToRight:function(e,t,n){var r,i;t==null&&(t=0);n==null&&(n=300);i={"margin-left":-100,"margin-right":100};e.css(i);r=function(){i={"margin-left":0,"margin-right":0,opacity:1};return e.animate(i,n)};return t>0?setTimeout(r,t):r()},slideAppearUpToDown:function(e,t,n){var r,i;t==null&&(t=0);n==null&&(n=300);i={"margin-top":100,"margin-bottom":-100};e.css(i);r=function(){i={"margin-top":0,"margin-bottom":0,opacity:1};return e.animate(i,n)};return t>0?setTimeout(r,t):r()},slideAppearDownToUp:function(e,t,n){var r,i;t==null&&(t=0);n==null&&(n=300);i={"margin-top":-100,"margin-bottom":100};e.css(i);r=function(){i={"margin-top":0,"margin-bottom":0,opacity:1};return e.animate(i,n)};return t>0?setTimeout(r,t):r()}};e.fn.responsiveSlider.defaults={autoplay:!1,interval:5e3,touch:!0,parallax:!1,parallaxDistance:.1,parallaxDirection:1,transitionTime:300,moveDistanceToSlideChange:4,onSlideChange:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSlidePageChange:function(){}};e.fn.responsiveSlider.run=!1;a=e('[data-spy="responsive-slider"]');if(a.length){i={};if(n=a.data("autoplay"))i.autoplay=n;if(r=a.data("interval"))i.interval=r;if(s=a.data("parallax"))i.parallax=s;if(u=a.data("parallax-distance"))i.parallaxDistance=parseInt(u,10);if(o=a.data("parallax-direction"))i.parallaxDirection=parseInt(o,10);(f=a.data("touch"))||(i.touch=f);if(l=a.data("transitiontime"))i.transitionTime=l;a.responsiveSlider(i)}return null})(jQuery);